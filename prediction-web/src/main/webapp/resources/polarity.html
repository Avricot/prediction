<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>Polarity</title>
<script type="text/javascript" src="./js/mootools.js"></script>
<style>

input{
margin: 3px;
}

#candidat{
font-weight: bold;
}
</style>

</head>

<body style="width: 300px; text-align: center;">
	<div id="candidat"></div>
	<div id="tweet"></div>
	<div id="buttons">
		<input style="background-color: #BFB;" type="button" value="POSITIVE" onclick="go('positive')">
		<input style="background-color: #BBF;" type="button" value="NEUTRAL" onclick="go('neutral')">
		<input style="background-color: #FBB;" type="button" value="NEGATIVE" onclick="go('negative')">
		<input type="button" value="DELETE" onclick="go('delete')">
	</div>

	<script type="text/javascript">
		var tweetId;
		function getNewTweet() {
			var jsonRequest = new Request.JSON({
				url : '../polarity',
				onSuccess : function(tNc) {
					$('candidat').innerHTML = tNc.candidat.name;
					$('tweet').innerHTML = tNc.tweet.value;
					tweetId = tNc.tweet.id;
				}
			}).get();
		}
		function go(val) {
			var jsonRequest = new Request({
				url : '../addPolarity',
				onSuccess : function() {
					getNewTweet();
				}
			}).post({
				'tweetId' : tweetId,
				'val' : val
			});
		}
		getNewTweet();
	</script>
</body>

</html>